# 1.0.0
- ignored .failed_tracker
- ignored
- changed Book a job to Make an Equiry
- removed references to free qutoes in the enquiry.
- updated out t&c and the booking form is now an equiry form.
- added a debug mode for the ihserver.
- added 'free quotes' and mentioned fixed pricing.
- upgraded packages.
- added support for hmb pages.
- refactored the server code. Added abilty for hmb to log start events and a simple page /start to view those logs.
- regenerated the doc.
- fixed an installer bug where we can't override the executing app but we can deleted and then overwrite it.
- fixed the gmail app password.
- fixed spelling of rosanna
- updated ihs pricing to $88 add details about kids, pets, asbestos and cars.
- Merge branch 'main' of https://github.com/bsutton/handyman
- moved hmb to its own repository.
- Create README.md
- released 0.9.0
- Added the photo gallery to the job card. No displays the task name and the photo common in the photo viewer.
- Added the task name and comment to the photo viewer.
- added ability to display a full version of the photo from the job photo gallery.
- Added logic to delete photos when a task is deleted. Added logic to force the job photo gallery to refresh when a photo is added/deleted.
- enabled zoom and pan on the photo viewer.
- fixed the photo full screen button so it appears in the photo.
- added button shows a full screen view of the photo.
- Added a screen to display a photo and zoom/pan the photo.
- added a horizontal bar that displays thumb nails of photos taken.
- added delete confirmation dialog to photo delete.
- display the number of photos for each task on the task list.
- now supports multiline comments for photos.
- adding and deleteing phots to a task now works. the comments associated with the photo currently aren't saved.
- first partial attempt at adding photos to the task screen.
- increased the height of the nested app bar so it has enough room to hold the show details/completed items.
- Fixed a bug where the task time on the home page was not being updated when starting/stoping timers from a task.
- change the invoice generation to only include check list items that have been marked as complete.
- Added payment links to quote and invoice.
- Fixed a bug in the local backup provider. It would only backup the db if it was already open which isn't the case when doing a backup as part of a db upgrade.
- Added filters to the shopping and packing list to exclude jobs that are not in a ready to go state.
- released 0.0.7
- removed the SMS manfiest permissions as we were not going to get through the google play store.
- ignored apk and aab build files.
- released 0.0.6
- removed a windowsism from the build script.
- removed unused import.
- released 0.0.5
- fixed a bug on windows where the db restore failed because the db file already exists.
- restored the platform check when backing up via email
- email backup provider now includes the date in the zip name and the enclosed db file name.
- added date into backup name
- moved from singleInstance to singleTask after reading go router issue.
- fixed a bug in the build script so if the target version already exists we over-write it.
- added go router for xero end point
- added a script to trigger a deeplink via adb
- released 0.0.4
- renamed local_properties.dart over version_properties.dart to reflect the new file name. Added code to move the aab to a versioned filename.
- released 0.0.4
- moved email fields onto contact page.
- change the gradle build to user version.properties for version details as we can share this between different platforms.
- moved country selection tothe busines page.
- formatting.
- formatting
- changed the build scripts to update the version number of the pubspec and build.gradle.
- moved to using the version generated by pub_release.
- removed the back button from screens that didn't need it.
- removed unused route.
- did a build.
- split the system screen into several small screens. Add an about page. Created a first run wizard to walk a user through entering the system data.
- added debug sha finger print to assetslinks.json
- deployed an .well-known/assetlinks.json file to the ihs server so we can use it to validate deeplinks to hmb.invanhoehandyman.com.au updated the reboot command
- ignored debug keystores
- added code to create a debug keystore
- added null annotation support in java project - maybe a bad idea.
- removed java home path from gradle properties so we now rely on JAVA_HOME as this is more portable across dev machines.
- added .well-know to the packing list so assetlinks.json is shipped. updated build.gradel version number to publish to google play console.
- preping for release on playstore.
- ignored the keystore backup.
- improved the packing and shopping list messages when the list is empty.
- Fixed bugs with customer, site and contat when creating them for a job - they were not being selected into the drop list.
- added logic to cleanup all of the job related entitie when we delete a job. Added catch block when deleting to report errors.
- Fixed bug in quote_list_screen where create quote button not showing on a refresh.
- fixed the qutoe and invoice line edit screens as they were not recalculating the lineTotal.
- Fixed the quote generation which wasn't generating a group/ine item for each task. Calcs were also all over the place.
- Added option to select all tasks.
- Added callout fee to quote. The select tasks now has an option to show tasks with just esitmates.
- First genration of quotation system.
- Fixed a couple of bugs around calculating start/end times and added a check that the start time was no more than 15min in the future.
- added https example to deep link.html
- formatting.
- When creating an invoice we now check if a task timer is running and force the user to stop it first.
- Added a status bar to the main ui when a task time is running. So you can see it and stop it.
- rebuild the blocking_ui as it was causing looping when used with GoRouter - at least that what i think was the problem.
- Created a debug and release app so we can run both on a device. Moved to flutters standard deeplink method rather than relying on app_link package. Change the xero redirect  url path to xer/auth_complete. Moved to GoRouter.
- Fixed a bug in the end time validation. Was throwing null excep when no end date entered.
- added ability to restore a database. Currently you need to upload the db to google drive and then restore from their.
- added build tools to linux setup script.
- wip invoice generation as pdf.
- added country code to system table.
- ignored build artifacts
- wip pdf invoice.
- added the pdf and printing packages to help generate a local pdf invoice.
- added code to create a keystore in the linux setup. published an assetlinks.json so that hmb can do deeplinking for xero auth. Removed the hmb scheme from the adroid manaifest as xero doesn't support it and at this point we don't need it.
- added additional samples to website.
- work on digitially signing the app and uploading to google play store. Added a release switch to the build script. The linux_setup.dart script now creates a keystore to store the key to digitally sign the app.
- Merge branch 'main' of https://github.com/bsutton/handyman
- added new fixed field widget
- added logic to create a keystore for app signing as part of linux setup.
- and another go.
- 2nd go at fixing the manifest.
- fixed broken manifest.
- improvements to toasts and editing money
- lints and comments.
- managed to create a xero invoice with the contact details populated including phone number.
- corrected the account code so it matched the xero account code. Now storing the xero invoice id as some api calls require it. Work on sending invoices via xero.
- Changed invoice lines to tax inclusive when sending to xero.
- extended the info toast duration to 6 sec.
- Forced time entry end time to be after start time.
- remove the need to pass a context into a toast.
- added ability to delete the xero invoice as well as the local one.
- change the underlying toast package so we can have the user acknowledge errors.
- imporved alignment for the job card invoice button.
- Fixed a bug in the line total calculations. Using different rounding for different parts of the calc.
- first working version of invoicing integration with xero.
- Fixed a bug with the job card not displaying addresses nor phone numbers.
- first pass at xero auth.
- remove the Task completed column as it wasn't been used. Update task list to use the task status to allow users to hide/show the completed tasks for a job
- added high level status to job_status.
- create new toggle widget.
- added customer name to shopping and packing lsits.
- changed a number of dao methods to take an id rather than an entity as it is more flexibile.
- fixed a bug in getForJob - invalid column name.
- Fixed a but in the packing screen which wasn't showing owned tools.
- Added filter to task list screen to filter out completed tasks.
- fixed a bug in the job card when status was null
- stopped setting focus for mobile.
- change the parent title on the check_list_item no whtat we are not showing the checklist.
- Added a filter on the job list to excluded completed jobs.
- mappped job_status to higher level staes.
- added option to show a filter bar on the nested list.
- changed the task edit screen so it has only a single check list and it items are displayed directly in the task.
- Fixed a bug in the shopping list where - pre entered values where lost.
- lint
- added toString to check_list_item for better debug display.
- Merge branch 'main' of https://github.com/bsutton/handyman
- removed backups from git.
- fixed a bug in the getByJob method.
- additional ways to query contacts and jobs.
- Added 'service' collumn to supplier.
- changed a number of dao queries to take id rather than entity as it makes useable in more scenarios.
- Added filter to supplier screen.
- added ability to mark an invoice line as billable or hiddne.
- added ability to mark an invoice line as billable or hiddne.
- when generating an invoice we now throw an exception if a job rate hasn't been set. If a line total is zero we now exclude it from the invoice.
- when generating an invoice we now throw an exception if a job rate hasn't been set. If a line total is zero we now exclude it from the invoice.
- changed the invoice screen to to add a message when there are no billable items.
- changed the invoice screen to to add a message when there are no billable items.
- fixed the hmb_email validation .
- fixed the hmb_email validation .
- impoved the money fields validation - it wasn't working.
- impoved the money fields validation - it wasn't working.
- made the default system rates as required.
- made the default system rates as required.
- lints
- lints
- made dial and email icons smaller.
- made dial and email icons smaller.
- moved the delete button into the title line to take up lesss space,
- moved the delete button into the title line to take up lesss space,
- added separate packing screen.
- added separate packing screen.
- added method to reclaculate invoice when invoice lines change. refresh the invoice total on screen when it changes.
- added method to reclaculate invoice when invoice lines change. refresh the invoice total on screen when it changes.
- formatting
- formatting
- Added a dialog to allow the user to select which tasks to invoice.
- Added a dialog to allow the user to select which tasks to invoice.
- stopped time_entries being edited/deleted after they have been invoiced.
- stopped time_entries being edited/deleted after they have been invoiced.
- improvements to doco.
- improvements to doco.
- stub used to exclude dcli on web builds.
- stub used to exclude dcli on web builds.
- now saving quantity when marking an item as completed.
- now saving quantity when marking an item as completed.
- fixed an issue where tried to use dcli when compiling to web.
- fixed an issue where tried to use dcli when compiling to web.
- lint
- lint
- added sorting to customer by last modified.
- added sorting to customer by last modified.
- added quantity to the check_list_item screen.
- added quantity to the check_list_item screen.
- renamed backup to local_backup_provider.
- renamed backup to local_backup_provider.
- initial implemenation of create/delete invoice.
- initial implemenation of create/delete invoice.
- added padding to the details of nested_list_screen so it aligns. change the delete confirm logic into a re-usable dialog. added control for displaying Fixed field. formatting for the TimeEntry list screen.
- added padding to the details of nested_list_screen so it aligns. change the delete confirm logic into a re-usable dialog. added control for displaying Fixed field. formatting for the TimeEntry list screen.
- schema upgrades for invocing.
- schema upgrades for invocing.
- WIP invoicing, renamed the project folder from handyman to hmb.
- WIP invoicing, renamed the project folder from handyman to hmb.
- fixed missing await.
- fixed missing await.
- xero auth working
- xero auth working
- added email sender and archive for the backup email provider.
- added email sender and archive for the backup email provider.
- reverted package name as it caused my phone to loose access to the db.
- reverted package name as it caused my phone to loose access to the db.
- backup live phone data.
- backup live phone data.
- Added email backup provider so we can backup the db.
- tightened up the formatting for cards on the edit/list crud
- had a problem with production db not matching schema - now fixed.
- fixed an invalid sql statement
- wip xero auth
- fixed syntax error in v9.sql
- added description field to customer as a text area.
- added google maps launch icon to sites.
- reduced space used to display a site in the site list.
- moved the package install for linux out of the flutter app into the tool/linux_setup.dart script as apt requires sudo which would create also sorts of issues for the app.
- placed contact selection above site selection so it is consistent with customer screen.
- capitialised name entry fields. removed blank fields when displaying an address.
- added description field to customer. added new job status 'Scheduled' and update capitialisation on a couple of others.
- redirect for xero auth by the HMB app.
- built a flyer for per street adveristing.
- change the sim card access logic to check if the platform supports sim cards.
- Added input for the xero client and secret.
- extended the display time of the HMBToast.error.
- Add platform specific installers to support deeplinking configuration. Fixed the hmb.desktop install for linux deep linking. The windows installer has not been tested and was generated by chat gpt.
- removed xeroRedirectUrl from db as it is appropriately hard coded.
- added missing sim_card_no to system table.
- Merge branch 'main' of https://github.com/bsutton/handyman
- removed dupliate entries from readm, added notes on running linux dev scripts. Created linux dev setup script.
- wip: adding support for deep links to aid in xero auth implementation.
- wip: windows/linux installers
- wip: xero integration
- wip: follow on time entry
- wip  xero integration
- added xero id/secret
- added hours worked to job card.
- Added $earned to job and task screens. Work on start/stop dialogs for timeentries. Particularly stopping any existing time entry that has a timer running.
- Added a mechanism so the dao layer could notify the UI if the db is changed. This may be a little agressive in some cases resulting in multiple refreshes of the UI. Consider adding a method to supress the notification if the UI is looking after itself.
- wip: time trackig
- wip backup
- fixed a bug in production -missing table.
- started work on time entry.
- toggled the default crud list screen to show the summary view.
- added ability to toggle between a details/summary view for nested list screens.
- formatting.
- change the build script so if you pass no switches it does all operations.
- changed subheading to HBMTextHeadlne3 Moved the job summary up the screen. MOved the task status up the screen.
- fixed the hmbphonefield and hmbmailtoicon as the icons where taking the entire width of the text field.
- disabled autofocus when on mobile as the keyboard popping up is generally annoying. Maybe consider adding it back in when user is adding a new entity. Made the mail to and click to dial icons larger to make them easier to click. Added 'copy to clipboard' options for both.
- Improved the headings in cards for job, customer and supplier.
- Improved the message when a list is empty.
- reduced padding for a better mobile experience. increased the height of child list cruds.
- Improve the customer and supplier list views - now displays the first contact/site if no primary exists.
- code format
- experiements with time entry.
- intial work in timeentry
- experiments with getting the list of sim cards.
- first pass at timeentry.
- added timeentry data to task statistics.
- added formatters for duration and datetime
- added error toast.
- added lastWhereOrNull
- added logic to run pub get before doing a build.
- Tried to add a sim card drop list but can't get the details from the os
- now able to send custom text message.
- changes required to send a sms message.
- lint
- lint fixes.
- set focus to first field on some screens. Add HMBNameField widget that captialises names on mobile.
- added dial and email options to job lsit. renamed app to hmb. added permissions for dialing.
- added permissions to dial
- generated app icons for project.
- lint
- change the drop list error state so it displays everyting in red.
- Added logic to set the default rates and the default job status.
- added logic to initState so that we set the default hourly rate from the system table.
- fixed a number of joins. When deleting the join we were not deleting the child.
- Add the task status into the task list screen.
- Added back in missing form. Removed when we remoecd forms for crud editors, which the system screen is not.
- added args package.
- add v5 db upgrade script.
- lint
- add a shopping screen that is an amalgum of non-complete check list items.
- modified the build script so you can control what actions are taken. Changed the asset paths so they will always be posix delimiters as required for asset paths.
- Merge branch 'main' of https://github.com/bsutton/handyman
- v4 upgrade script.
- set a default task status for the task edit screen - probably not a very good default.
- changed the job stats they display as a column on mobile.
- re-ordered the save and save & close buttons.
- lint
- set appropriate keyboard types for each text field.
- wrapped droplist in a labeled container.
- Add job and task statistics to their cards.
- layout
- changed to a standard Add button and made the background colour blue so it is more obvious after initial user testers missed the button. Made the save button purple for the same reason. Now passing a parent title to nested cruds so we can refer to the parent by its name rather than 'parent' after user testing showed that 'parent' was meaningless.
- Fixed a bug where the taskStatus was not being saved.
- change the build script to also build and install the apk.
- sorted jobs by the last modified date.
- Fixed a bug where the state of the Jobedit screen was being preserved by June between different jobs. Now correctly resetting the state.
- doco
- Fixed a bug where nested elements were not be attached to their parent.
- change site and contact to use the new droplist.
- Change the hint for the droplist.
- added a filter method for daoSite.
- Created a label container for the droplist. Fixed a bug where the droplist was not been validated when the form was validated. converted select_customer to use the new hmb-droplist.
- moved hexColor into a utility class.
- moved the summary field up and made it required.
- spelling.
- removed unneeded padding.
- changed droplist to a formfield
- lint fixes.
- the build script now sorts and puts newlines into the upgrade_list.json to make it easier to read.
- moved some db utility functions into their own library so they could be used without the foundation.dart include which limited where they could be used.
- Fixed the bug when when saving a new entity the editor didn't refresh leaving child cruds in a state where they couldn't insert items as they thought the parent was still null.
- made the upgrade list more readable.
- lint fixes.
- additional dao methods for filter screens.
- fixed a bug in email validator - would validate even if field was blank.
- formatting.
- removed over zealous validators
- moved to the new HMBDroplist.
- formatting.
- formatting.
- formatting.
- moved return values into a local to help with debugging.
- extend list with firstWhereNull
- added hashcode and equals.
- removed a redundant call to setState which was interering wi ith the droplist.
- add a mount check for refresh as can get called as the screen is demounting.
- Fixed edit screens that incorrectly had their own form which was stopping the crud form validation be applied. Add Save, Save & Close buttons to crud screens.
- removed the unused gesture detector in hmb_rich Added leading padding to hmb_text_area to match other widgets.
- Added check list items to the check list screen.
- renamed the join addaptors so they are easier to find. Added wrappers for money and fixed to make conversios easier.
- notes on db version upgrades.
- set the hidden column on the job_status table.
- lint fix.
- Added checklist to the Task screen.
- the default validator only runs if required is true.
- change the upgrade so we execute each statement one at a time as something was failing on android.
- renamed com.example.handyman package to dev.onepub.handyman.
- added formatting to the task status name.
- allow the initialValue to be null.
- fixed a bug where setState was being called after the ui demounted.
- Added billing fields to system, job, customer and taks.
- lint
- Did some tidy up so the system would run on the web. We currently have stubbed out backups as we don't know how to do them.
- Fixed a bug in daoJob.getByFilter - it was returning the full joined map of data causing the jobstatus description to be loaded into the job description. The custeom getByJob had a similar issue.
- had chat gpt cleanup code.
- Fixed a bug in the BlockUIBuilder - it would never show the progress.
- expanded the job search to include the job status.
- removed an chat gpt bug.
- Fixed a bug where the job status was not be saved.
- added db support for checklists and billing
- lint fixes.
- Added upgrade progress message when initialising db.
- formatting.
- added a filter to the crud list screen.
- made fromEmail optional.
- improved screen formatting.
- added missing primary columns.
- The system screen was showing a black screen when you try to go back to the main menu as there was no route to go back to.
- delete confirmation for nested crud.
- fixed misspelled table in names in dao.
- added delete confirmation to credit list.
- added job status and coloure codeing to job list.
- added job status to the job edit screeen.
- updated job so you can select site and contact from the customer existing list of same.
- formatting.
- Fixed a bug in the nested list where it would try to render children when the parent handn't been created.
- change the top level screens so that each of the draw items are not a top level screen.
- change the db upgrades to store the sql in an asset file to reduce the manual overhead of creating an upgrade script.
- All the basic screens are now functional
- add missing logic to the site.insertforCustomer. it wasn't inserting the site.
- fixed the field case fo rhte site entity.
- fixed a bug in the insertForCustomer - it was deleting the contact.
- got the nested site screen working for the customer screen.
- improved the screen layout
- removed customer_id from contact entity as it is no longer in the db.
- fixed a bug in the backup path on windows.
- wip nested contact and site.
- wip: work on nesting the contact and site cruds into the customer. Still needs to get the join tables updating correctly.
- Created new helper widgets to display common elements - contact, site, address, email phone no.
- comenced work in embedding the contact and site cruds into parent cruds.
- renamed new child cruds nested_xxx
- formatting
- Added a system table and edit screen for same.
- Added Contact screen and db tables. WIP inline CRUD. Added a PhoneText widget to display a phone number and a dial button. Began to add a Site entity. Created new Customer Selection Widget. Add June statemanagement.
- improvements to the db upgrade scripts.
- fixed a ! when null error.
- changed forUpdate to use the supplied customer. Its probably the same entity but ...
- converted the supplier crud to use the new base edit crud.
- renamed the job customerId column to customer_id
- restructed the db so that 'site' details are in a separate table. move table names to the traditional singular form.
- reworked customer and job edit screens to use the new base entity_edit_screen.
- exposed a re-usable createParchment method.
- added date_time_format package. Create standardard dateFormat function.
- improved var names for entity_list_screen.
- improvements to job list formatting.
- improvements to job editor formatting.
- Added a supplier screen.
- updated rich_editor so it can handle an initial empty string.
- moved customer and job crud screens into their own directories.
- changes so android target builds.
- wIP rich editor.
- wip fleather.
- better naming for params on dao method.
- fixed jobs screen so you can now change customer.
- formatting
- jobs can now select a customer.
- moved common db operations into Dao.
- created dial and email widgets.
- renamed ihs_app to ihs_app_old_code
- removed firebase as doesn't work with linux.
- Merge branch 'main' of https://github.com/bsutton/handyman
- wip for sql lite
- finished upgrading to dart 3 and lint_hard
- restored stella testimonial.
- spelling.
- deployed
- fixed onepub paths.
- ignored .dart_tool
- fixed the privare repo deps.
- fixed bug in the deploy script which tried to create an existing directory.
- removed included 15min
- added hamburget menu.
- changed crud to be generic.
- added email and call options to each phone and email address the customer has.
- added url_launcher plugin
- added additional customer fields.
- added delete to the crud an created barrel files.
- editing of a customer now works.
- initial build of the mobile app,
- wip
- Create LICENSE
- wip
- wip
- chagen ihserver so that it can be run without https for when we want to run it behind a reverse proxy. Added config setting use_https to allow https to be disabled. upgrade package dependencies.
- added a call to craate the bin directory as it doesn't exist on first run of deploy.
- improved the movement documentation.
- reverted to using vendored verion of acme_client as other packages are have not yet been released.
- ignore test lets encrypt certificates.
- improved the documentation and remove surplus files.
- Added the experimental ihs_app
- Added google analytics. Added cannonical tag to make google index engine happy. Added additional services and fairfield.
- removed from git.
- ignored stuff.
- added address to booking. improve the 'submit' flow. added summary to each of the example work images.
- set the background color into the html to avoid an initial white flash on load.
- added the samples directory to be served.
- removed unused files
- Added images with samples of my work.
- added args
- work on killing existing processes as part of deploy.
- seo optimisations.
- added favioon
- updated the launch script to reflect the renamed launch binary.
- formatting.
- added favicon
- resolved issues with the crontab job not starting due to the cron file missing the user name. Changed the deploy script to kill and restart the server.
- removed gcp_lambda as its no longer used
- initial functional site released - still some cleanup.
- performance improvments. Navigation is now working. fixes for mobile layout on booking form.
- gitignored build on the correct path.
- updated .gitignore
- experiements (failed) in different ways of deploying the service.
- built a launcher for the webserver that restarts it after 10 seconds if it fails. Added a logger. Improvements to the deploy/build scripts. improved the doco.
- upgraded to release version of letsencrypt.
- renamed email_server to ihserver
- vendored all the packages.
- ignored the compiled binary.
- renamed the package to ihserver. change the gmail config setting name to include gmail as a prefix.
- updated the readme.
- first firsion with letsencrypt included and functioning.
- ,pved statoc web resources into a common web root.
- first commit

# 0.0.3
Removed the 15min inclusion for the call out fee.
## 0.0.2
- Initial version.
